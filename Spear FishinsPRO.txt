local WindUI

do
    local ok, result = pcall(function()
        return require("./src/Init")
    end)
    
    if ok then
        WindUI = result
    else 
        WindUI = loadstring(game:HttpGet("https://raw.githubusercontent.com/Footagesus/WindUI/main/dist/main.lua"))()
    end
end

function createPopup()
    return WindUI:Popup({
        Title = "Welcome to the WindUI!",
        Icon = "bird",
        Content = "‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏™‡∏Ñ‡∏•‡∏¥‡∏õ‡πÑ‡∏°‡πà‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢ ‡πÉ‡∏ä‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏£‡∏∞‡∏°‡∏±‡∏î‡∏£‡∏∞‡∏ß‡∏±‡∏á‡∏î‡πâ‡∏ß‡∏¢‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö",
        Buttons = {
            {
                Title = "‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡πÅ‡∏•‡πâ‡∏ß",
                Icon = "bird",
            },
        }
    })
end



-- */  Window  /* --
local Window = WindUI:CreateWindow({
    Title = "SLEEP HUB",
    Author = "by .ftgs ‚Ä¢ Footagesus",
    Folder = "ftgshub",
    Icon = "rbxassetid://121030902371363",
    IconSize = 22*2,
    NewElements = true,
    --Size = UDim2.fromOffset(700,700),
    
    HideSearchBar = false,
    
    OpenButton = {
        Title = " SLEEP HIB UI", -- can be changed
        CornerRadius = UDim.new(1,0), -- fully rounded
        StrokeThickness = 3, -- removing outline
        Enabled = true, -- enable or disable openbutton
        Draggable = true,
        OnlyMobile = false,
        
        Color = ColorSequence.new( -- gradient
            Color3.fromHex("#30FF6A"), 
            Color3.fromHex("#e7ff2f")
        )
    },
})










local Tab = Window:Tab({
    Title = "‡∏´‡∏ô‡∏±‡∏≤‡∏´‡∏•‡∏±‡∏Å",
    Icon = "bird", -- optional
    Locked = false,
})










-- ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏Å‡πá‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞
local autoHarpoonEnabled = false
local selectedSeas = {"Sea1"} -- ‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
local targetFish = nil

-- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡πÅ‡∏Å‡∏ô‡∏´‡∏≤‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡πÉ‡∏ô workspace.Zoogo1001
local function getToolFromZoogo1001()
    local zoogoFolder = workspace:FindFirstChild("Zoogo1001")
    if not zoogoFolder then
        warn("‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö folder Zoogo1001")
        return nil
    end
    
    -- ‡∏™‡πÅ‡∏Å‡∏ô‡∏´‡∏≤‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
    local tools = {}
    for _, obj in ipairs(zoogoFolder:GetChildren()) do
        if obj:IsA("Tool") or obj:IsA("Model") then
            table.insert(tools, obj)
        end
    end
    
    if #tools == 0 then
        warn("‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡πÉ‡∏ô Zoogo1001")
        return nil
    end
    
    -- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡πÅ‡∏£‡∏Å‡∏ó‡∏µ‡πà‡∏û‡∏ö
    return tools[1].Name
end

-- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏´‡∏≤‡∏õ‡∏•‡∏≤‡∏ó‡∏µ‡πà‡πÉ‡∏Å‡∏•‡πâ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î
local function findNearestFish()
    if not autoHarpoonEnabled then return nil end
    if #selectedSeas == 0 then return nil end
    
    local player = game:GetService("Players").LocalPlayer
    if not player.Character then return nil end
    
    local characterPos = player.Character.HumanoidRootPart.Position
    local nearestFish = nil
    local shortestDistance = 100 -- ‡∏£‡∏∞‡∏¢‡∏∞‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î 30 studs
    
    -- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ó‡∏∏‡∏Å‡∏ó‡∏∞‡πÄ‡∏•‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å
    for _, seaName in ipairs(selectedSeas) do
        local sea = workspace.WorldSea:FindFirstChild(seaName)
        if sea then
            -- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ó‡∏∏‡∏Å‡∏õ‡∏•‡∏≤‡πÉ‡∏ô‡∏ó‡∏∞‡πÄ‡∏•
            for _, fish in ipairs(sea:GetChildren()) do
                if fish:IsA("BasePart") or fish:FindFirstChild("HumanoidRootPart") then
                    local fishPos = fish.Position or fish.HumanoidRootPart.Position
                    local distance = (characterPos - fishPos).Magnitude
                    
                    if distance < shortestDistance then
                        shortestDistance = distance
                        nearestFish = fish
                    end
                end
            end
        end
    end
    
    return nearestFish, shortestDistance
end

-- ‡∏™‡∏£‡πâ‡∏≤‡∏á Toggle
local Toggle = Tab:Toggle({
    Title = "Auto Harpoon",
    Desc = "‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î‡∏£‡∏∞‡∏ö‡∏ö‡∏¢‡∏¥‡∏á‡∏õ‡∏•‡∏≤‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥",
    Icon = "bird",
    Type = "Checkbox",
    Value = false,
    Callback = function(state)
        autoHarpoonEnabled = state
        if state then
            print("‚úÖ Auto Harpoon ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô")
        else
            print("‚ùå Auto Harpoon ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô")
            targetFish = nil
        end
    end
})

-- ‡∏™‡∏£‡πâ‡∏≤‡∏á Dropdown ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏∞‡πÄ‡∏•
local Dropdown = Tab:Dropdown({
    Title = "‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏∞‡πÄ‡∏•",
    Desc = "‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏∞‡πÄ‡∏•‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏¢‡∏¥‡∏á‡∏õ‡∏•‡∏≤",
    Values = { "Sea1", "Sea2", "Sea3" },
    Value = { "Sea1" },
    Multi = true,
    AllowNone = false,
    Callback = function(options)
        selectedSeas = options
        print("üìç ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏∞‡πÅ‡∏•‡πâ‡∏ß:", table.concat(options, ", "))
    end
})

-- ‡∏•‡∏π‡∏õ‡∏´‡∏•‡∏±‡∏Å‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏¢‡∏¥‡∏á‡∏õ‡∏•‡∏≤‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
game:GetService("RunService").Heartbeat:Connect(function()
    if not autoHarpoonEnabled then return end
    
    local fish, distance = findNearestFish()
    if fish then
        -- ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏¢‡∏¥‡∏á
        if targetFish ~= fish then
            targetFish = fish
            print("üéØ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏¢‡∏¥‡∏á:", fish.Name, "‡∏£‡∏∞‡∏¢‡∏∞:", math.floor(distance), "studs")
        end
        
        -- ‡∏´‡∏≤‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠
        local toolName = getToolFromZoogo1001()
        if not toolName then return end
        
        -- ‡∏™‡πà‡∏á remote event
        local args = {
            "Hit",
            {
                fishInstance = fish,
                HitPos = fish.Position or fish.HumanoidRootPart.Position,
                toolInstance = game:GetService("Players").LocalPlayer.Character:WaitForChild(toolName)
            }
        }
        
        game:GetService("ReplicatedStorage"):WaitForChild("Remotes"):WaitForChild("FireRE"):FireServer(unpack(args))
    else
        if targetFish then
            print("‚ùå ‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡πÉ‡∏ô‡∏£‡∏∞‡∏¢‡∏∞ 30 studs")
            targetFish = nil
        end
    end
end)